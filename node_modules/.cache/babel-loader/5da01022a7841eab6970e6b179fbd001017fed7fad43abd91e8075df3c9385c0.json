{"ast":null,"code":"import _classCallCheck from\"/Users/alexey/Desktop/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/alexey/Desktop/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(data){_classCallCheck(this,Api);this._url=data.baseUrl;this._headers=data.headers;this._auth=data.headers.authorization;}_createClass(Api,[{key:\"_getResponse\",value:function _getResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));;}},{key:\"getInfo\",value:function getInfo(){return fetch(\"\".concat(this._url,\"users/me\"),{headers:{authorization:this._auth}}).then(this._getResponse).catch(function(err){return console.error(err);});}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._url,\"cards\"),{headers:{authorization:this._auth}}).then(this._getResponse);}},{key:\"setUserInfo\",value:function setUserInfo(data){return fetch(\"\".concat(this._url,\"users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:data.username,about:data.description})}).then(this._getResponse);}},{key:\"setAvatar\",value:function setAvatar(data){return fetch(\"\".concat(this._url,\"users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:data.avatar})}).then(this._getResponse);}},{key:\"addCard\",value:function addCard(cardData){return fetch(\"\".concat(this._url,\"cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:cardData.name,link:cardData.link})}).then(this._getResponse);}},{key:\"addLike\",value:function addLike(cardId){return fetch(\"\".concat(this._url,\"cards/\").concat(cardId,\"/likes\"),{method:'PUT',headers:{authorization:this._auth}}).then(this._getResponse);}},{key:\"removeLike\",value:function removeLike(cardId){return fetch(\"\".concat(this._url,\"cards/\").concat(cardId,\"/likes\"),{method:'DELETE',headers:{authorization:this._auth}}).then(this._getResponse);}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this._url,\"cards/\").concat(cardId),{method:'DELETE',headers:{authorization:this._auth}}).then(this._getResponse);}}]);return Api;}();var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-74/',headers:{authorization:'2df54e82-a7fc-4317-91ae-bd7672a9b070','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","data","_classCallCheck","_url","baseUrl","_headers","headers","_auth","authorization","_createClass","key","value","_getResponse","res","ok","json","Promise","reject","concat","status","getInfo","fetch","then","catch","err","console","error","getInitialCards","setUserInfo","method","body","JSON","stringify","name","username","about","description","setAvatar","avatar","addCard","cardData","link","addLike","cardId","removeLike","deleteCard","api"],"sources":["/Users/alexey/Desktop/dev/react-mesto-auth/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(data) {\n    this._url = data.baseUrl;\n    this._headers = data.headers;\n    this._auth = data.headers.authorization;\n  }\n\n  _getResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);;\n  }\n\n  getInfo() {\n    return fetch(`${this._url}users/me`, {\n      headers: {\n        authorization: this._auth\n      }\n    })\n    .then(this._getResponse)\n    .catch(err => console.error(err))\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}cards`, {\n      headers: {\n        authorization: this._auth\n      }\n    })\n    .then(this._getResponse)\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._url}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.username,\n        about: data.description\n      })\n    })\n    .then(this._getResponse)\n  }\n\n  setAvatar(data) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })\n    })\n    .then(this._getResponse)\n  }\n\n  addCard(cardData) {\n    return fetch(`${this._url}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: cardData.name,\n        link: cardData.link\n      })\n    })\n    .then(this._getResponse)\n  }\n\n  addLike(cardId) {\n    return fetch(`${this._url}cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: {\n        authorization: this._auth\n      }\n    })\n    .then(this._getResponse)\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._url}cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._auth\n      }\n    })\n    .then(this._getResponse)\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._auth\n      }\n    })\n    .then(this._getResponse)\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-74/',\n  headers: {\n    authorization: '2df54e82-a7fc-4317-91ae-bd7672a9b070',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;"],"mappings":"iQAAM,CAAAA,GAAG,yBACP,SAAAA,IAAYC,IAAI,CAAE,CAAAC,eAAA,MAAAF,GAAA,EAChB,IAAI,CAACG,IAAI,CAAGF,IAAI,CAACG,OAAO,CACxB,IAAI,CAACC,QAAQ,CAAGJ,IAAI,CAACK,OAAO,CAC5B,IAAI,CAACC,KAAK,CAAGN,IAAI,CAACK,OAAO,CAACE,aAAa,CACzC,CAACC,YAAA,CAAAT,GAAA,GAAAU,GAAA,gBAAAC,KAAA,CAED,SAAAC,aAAaC,GAAG,CAAE,CAChB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACV,MAAO,CAAAD,GAAG,CAACE,IAAI,CAAC,CAAC,CACnB,CACA,MAAO,CAAAC,OAAO,CAACC,MAAM,0CAAAC,MAAA,CAAYL,GAAG,CAACM,MAAM,CAAE,CAAC,CAAC,CACjD,CAAC,GAAAT,GAAA,WAAAC,KAAA,CAED,SAAAS,QAAA,CAAU,CACR,MAAO,CAAAC,KAAK,IAAAH,MAAA,CAAI,IAAI,CAACf,IAAI,aAAY,CACnCG,OAAO,CAAE,CACPE,aAAa,CAAE,IAAI,CAACD,KACtB,CACF,CAAC,CAAC,CACDe,IAAI,CAAC,IAAI,CAACV,YAAY,CAAC,CACvBW,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,GAAC,CACnC,CAAC,GAAAd,GAAA,mBAAAC,KAAA,CAED,SAAAgB,gBAAA,CAAkB,CAChB,MAAO,CAAAN,KAAK,IAAAH,MAAA,CAAI,IAAI,CAACf,IAAI,UAAS,CAChCG,OAAO,CAAE,CACPE,aAAa,CAAE,IAAI,CAACD,KACtB,CACF,CAAC,CAAC,CACDe,IAAI,CAAC,IAAI,CAACV,YAAY,CAAC,CAC1B,CAAC,GAAAF,GAAA,eAAAC,KAAA,CAED,SAAAiB,YAAY3B,IAAI,CAAE,CAChB,MAAO,CAAAoB,KAAK,IAAAH,MAAA,CAAI,IAAI,CAACf,IAAI,aAAY,CACnC0B,MAAM,CAAE,OAAO,CACfvB,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtByB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,IAAI,CAAEhC,IAAI,CAACiC,QAAQ,CACnBC,KAAK,CAAElC,IAAI,CAACmC,WACd,CAAC,CACH,CAAC,CAAC,CACDd,IAAI,CAAC,IAAI,CAACV,YAAY,CAAC,CAC1B,CAAC,GAAAF,GAAA,aAAAC,KAAA,CAED,SAAA0B,UAAUpC,IAAI,CAAE,CACd,MAAO,CAAAoB,KAAK,IAAAH,MAAA,CAAI,IAAI,CAACf,IAAI,oBAAmB,CAC1C0B,MAAM,CAAE,OAAO,CACfvB,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtByB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBM,MAAM,CAAErC,IAAI,CAACqC,MACf,CAAC,CACH,CAAC,CAAC,CACDhB,IAAI,CAAC,IAAI,CAACV,YAAY,CAAC,CAC1B,CAAC,GAAAF,GAAA,WAAAC,KAAA,CAED,SAAA4B,QAAQC,QAAQ,CAAE,CAChB,MAAO,CAAAnB,KAAK,IAAAH,MAAA,CAAI,IAAI,CAACf,IAAI,UAAS,CAChC0B,MAAM,CAAE,MAAM,CACdvB,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtByB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,IAAI,CAAEO,QAAQ,CAACP,IAAI,CACnBQ,IAAI,CAAED,QAAQ,CAACC,IACjB,CAAC,CACH,CAAC,CAAC,CACDnB,IAAI,CAAC,IAAI,CAACV,YAAY,CAAC,CAC1B,CAAC,GAAAF,GAAA,WAAAC,KAAA,CAED,SAAA+B,QAAQC,MAAM,CAAE,CACd,MAAO,CAAAtB,KAAK,IAAAH,MAAA,CAAI,IAAI,CAACf,IAAI,WAAAe,MAAA,CAASyB,MAAM,WAAU,CAChDd,MAAM,CAAE,KAAK,CACbvB,OAAO,CAAE,CACPE,aAAa,CAAE,IAAI,CAACD,KACtB,CACF,CAAC,CAAC,CACDe,IAAI,CAAC,IAAI,CAACV,YAAY,CAAC,CAC1B,CAAC,GAAAF,GAAA,cAAAC,KAAA,CAED,SAAAiC,WAAWD,MAAM,CAAE,CACjB,MAAO,CAAAtB,KAAK,IAAAH,MAAA,CAAI,IAAI,CAACf,IAAI,WAAAe,MAAA,CAASyB,MAAM,WAAU,CAChDd,MAAM,CAAE,QAAQ,CAChBvB,OAAO,CAAE,CACPE,aAAa,CAAE,IAAI,CAACD,KACtB,CACF,CAAC,CAAC,CACDe,IAAI,CAAC,IAAI,CAACV,YAAY,CAAC,CAC1B,CAAC,GAAAF,GAAA,cAAAC,KAAA,CAED,SAAAkC,WAAWF,MAAM,CAAE,CACjB,MAAO,CAAAtB,KAAK,IAAAH,MAAA,CAAI,IAAI,CAACf,IAAI,WAAAe,MAAA,CAASyB,MAAM,EAAI,CAC1Cd,MAAM,CAAE,QAAQ,CAChBvB,OAAO,CAAE,CACPE,aAAa,CAAE,IAAI,CAACD,KACtB,CACF,CAAC,CAAC,CACDe,IAAI,CAAC,IAAI,CAACV,YAAY,CAAC,CAC1B,CAAC,WAAAZ,GAAA,KAIH,GAAM,CAAA8C,GAAG,CAAG,GAAI,CAAA9C,GAAG,CAAC,CAClBI,OAAO,CAAE,8CAA8C,CACvDE,OAAO,CAAE,CACPE,aAAa,CAAE,sCAAsC,CACrD,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,cAAe,CAAAsC,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}