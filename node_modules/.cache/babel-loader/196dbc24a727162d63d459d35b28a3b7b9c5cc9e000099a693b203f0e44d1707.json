{"ast":null,"code":"import _slicedToArray from\"/Users/alexey/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import api from\"../../utils/api\";import Card from\"../Card/Card\";import EditAvatar from\"../../images/ava-edit.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userAvatar=_useState6[0],setUserAvatar=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cards=_useState8[0],setCards=_useState8[1];useEffect(function(){Promise.all([api.getInfo(),api.getInitialCards()]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),userData=_ref3[0],cardData=_ref3[1];setUserName(userData.name);setUserDescription(userData.about);setUserAvatar(userData.avatar);cardData.forEach(function(el){return el.myId=userData._id;});setCards(cardData);}).catch(function(err){console.error(\"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435: \".concat(err));});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar\",children:[/*#__PURE__*/_jsx(\"img\",{src:userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",className:\"profile__avatar-img\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-overlay\",children:/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar-edit\",src:EditAvatar,alt:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",onClick:onEditAvatar})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__user\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button-edit\",type:\"button\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__description\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button-add\",type:\"button\",title:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"gallery\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"gallery__list\",children:cards.map(function(item){return/*#__PURE__*/_jsx(\"li\",{className:\"gallery__item\",children:/*#__PURE__*/_jsx(Card,{card:item,onCardClick:onCardClick})},item._id);})})})]});}","map":{"version":3,"names":["useEffect","useState","api","Card","EditAvatar","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditProfile","onAddPlace","onEditAvatar","onCardClick","_useState","_useState2","_slicedToArray","userName","setUserName","_useState3","_useState4","userDescription","setUserDescription","_useState5","_useState6","userAvatar","setUserAvatar","_useState7","_useState8","cards","setCards","Promise","all","getInfo","getInitialCards","then","_ref2","_ref3","userData","cardData","name","about","avatar","forEach","el","myId","_id","catch","err","console","error","concat","className","children","src","alt","onClick","type","title","map","item","card"],"sources":["/Users/alexey/Desktop/dev/mesto-react/src/components/Main/Main.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport api from \"../../utils/api\";\nimport Card from \"../Card/Card\";\nimport EditAvatar from \"../../images/ava-edit.png\"\n\nexport default function Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick }) {\n\n  const [userName, setUserName] = useState('')\n  const [userDescription, setUserDescription] = useState('');\n  const [userAvatar, setUserAvatar] = useState('');\n  const [cards, setCards] = useState([])\n  \n  useEffect(() => {\n    Promise.all([api.getInfo(), api.getInitialCards()])\n      .then(([userData, cardData]) => {\n        setUserName(userData.name)\n        setUserDescription(userData.about)\n        setUserAvatar(userData.avatar)\n        cardData.forEach(el => el.myId = userData._id)\n        setCards(cardData)\n      })\n      .catch((err) => {\n        console.error(`Не удалось загрузить данные: ${err}`)\n      })\n  }, [])\n\n  return(\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\">\n          <img\n            src={userAvatar}\n            alt=\"Аватар пользователя\"\n            className=\"profile__avatar-img\"\n          />\n          <div className=\"profile__avatar-overlay\">\n            <img\n              className=\"profile__avatar-edit\"\n              src={EditAvatar}\n              alt=\"Редактировать аватар\"\n              onClick={onEditAvatar}\n            />\n          </div>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__user\">\n            <h1 className=\"profile__name\">{userName}</h1>\n            <button\n              className=\"profile__button-edit\"\n              type=\"button\"\n              title=\"Редактировать профиль\"\n              aria-label=\"Редактировать профиль\"\n              onClick={onEditProfile}\n            />\n          </div>\n          <p className=\"profile__description\">{userDescription}</p>\n        </div>\n        <button\n          className=\"profile__button-add\"\n          type=\"button\"\n          title=\"Добавить\"\n          aria-label=\"Добавить\"\n          onClick={onAddPlace}\n        />\n      </section>\n      <section className=\"gallery\">\n        <ul className=\"gallery__list\">\n          {cards.map(item => {\n            return (\n              <li className=\"gallery__item\" key={item._id}>\n                <Card card={item} onCardClick={onCardClick}/>\n              </li>\n            )\n          })}\n        </ul>\n      </section>\n    </main>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}